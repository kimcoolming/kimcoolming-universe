import{e as s,g as d,a as p,b as o,k as n,w as v,r as c,v as i,o as w}from"./index-D3o1Qzlu.js";import{e as x,c as g,d as k,s as b}from"./firebase-MdAcYMOi.js";const f={style:{"max-width":"500px",margin:"auto",padding:"2rem"}},V={__name:"Write",setup(y){const t=s(""),a=s(""),m=async()=>{if(!t.value||!a.value){alert("닉네임과 내용을 모두 입력해주세요.");return}try{await x(g(k,"posts"),{nickname:t.value,message:a.value,createdAt:b()}),alert("방명록이 등록되었습니다!"),t.value="",a.value=""}catch(l){console.error("글 작성 중 오류 발생:",l),alert("글 작성에 실패했습니다.")}};return(l,e)=>{const u=c("router-link");return w(),d("div",f,[p(u,{to:"/"},{default:v(()=>e[2]||(e[2]=[o("button",{style:{"margin-bottom":"1rem"}},"← 방명록으로",-1)])),_:1}),e[3]||(e[3]=o("h2",null,"방명록 남기기",-1)),n(o("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.value=r),placeholder:"닉네임",style:{width:"100%","margin-bottom":"10px"}},null,512),[[i,t.value]]),n(o("textarea",{"onUpdate:modelValue":e[1]||(e[1]=r=>a.value=r),placeholder:"내용",rows:"4",style:{width:"100%","margin-bottom":"10px"}},null,512),[[i,a.value]]),o("button",{onClick:m,style:{width:"100%"}},"글쓰기")])}}};export{V as default};
